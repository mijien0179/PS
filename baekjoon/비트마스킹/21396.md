# [이진수 더하기](https://www.acmicpc.net/problem/21396)

```cpp
#include <iostream>
#include <unordered_map>

#define endl "\n"

using namespace std;

using ll = long long;

void solution() {
	ll n, x;
	cin >> n >> x;

	ll answer = 0;
	ll temp;
	unordered_map<ll, ll> data;

	for (ll i = 0; i < n; ++i) {
		cin >> temp;
		data[temp]++;
	}

	if (x)
		for (const auto& [key, value] : data) {
			if (data.find(key ^ x) != data.end())
				answer += value * data[key ^ x];
		}
	else
		for (const auto& [key, value] : data)
			answer += value * (value - 1);

	answer >>= 1;

	cout << answer << endl;

}

int main() {
	cin.tie(0)->sync_with_stdio(0);

	int T;
	cin >> T;
	while (T--)solution();

	return 0;
}
```

## 해결
문제 난이도가 어렵지 않은데 반해 C++에서는 map에 key가 있는지 없는지 판단하는 코드를 작성하는 것에 따라서 P/NP가 나뉜다.
```cpp
if(data.find(key ^ x) != data.end()){
    ....
}
```

기본적으로 unordered_map에서 존재하지 않은 key를 사용할 경우 자동으로 key를 추가하고 0과 같은 해당 데이터의 기본 값을 넣는 것으로 알고 있는데, 어째서 fail이 발생하는지 알 수가 없다.
어째서 이런 일이 벌어지는지 파악하지 못했으며, 대신 [질문글](https://www.acmicpc.net/board/view/148771)은 올려뒀다.